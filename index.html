<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Ming Li's Homepage（李茗）</title>
<link rel="icon" href="xidianlogo.png">
<script src="https://cdn.jsdelivr.net/npm/particles.js@2.0.0/particles.min.js"></script>
<link rel="stylesheet" href="static/css/main.css">

</head>
<body>
<div id="particles-js"></div>

<div class="header-card">
  <div class="header-flex" style="display:flex; align-items:center; justify-content:space-between; gap:20px;">
    <!-- Avatar -->
    <div class="avatar-container" style="flex:0 0 188px;">
      <img src="static/assets/img/photo.png" width="188" alt="Ming Li Photo" class="avatar">
    </div>

    <!-- Text content -->
    <div class="header-text" style="flex:1;">
      <p><font size="6"><strong>Ming Li</strong></font>
      <font size="5"><strong>（李茗😊）</strong></font></p>
      <i>Currently working toward Ph.D. And a member of
      <a href="https://unicxidian.org/">Ubiquitous Networking and Intelligent Computing Lab (UNIC).</a></i><br><br>
      <strong>Ph.D. Student</strong><br>
      <a href="https://www.xidian.edu.cn/info/1054/13151.htm">School of Communication Engineering</a><br>
      <a href="https://www.xidian.edu.cn/">Xidian University</a><br>
      Xi'an, Shaanxi 710071, China<br>
      ✨Lab: <a href="https://unicxidian.org/">UNIC</a>, No. 2 South Taibai Road, Yanta District<br>
      Email: 25011110751@stu.xidian.edu.cn
    </div>

    <!-- Logo -->
    <div class="logo-container" style="flex:0 0 188px;">
      <img src="static/assets/img/xidian.png" width="188" alt="Xidian University Logo" class="logo">
    </div>
  </div>
  
</div>


<div class="nav-bar">
  <a href="#Biography">|Biography</a> <a href="#Experience">|Experience</a> <a href="#Honors">|Honors</a>
</div>

<!-- Biography -->
<div class="content-section" id="Biography">
  <div class="content-card">
  <p class="section-title">Biography</p>
  <p>Ming Li received the M.E. degree in Computer Science and Technology from 
  <a href="https://www.htu.edu.cn/">Henan Normal University</a>, Xinxiang, China, in 2024 
  (supervised by <b><a href="https://www.htu.edu.cn/cs/2019/0227/c10537a138429/page.htm"style="color: red;">Prof. Peiyan Yuan</a></b>). She worked at Hyperfusion Digital Co., Ltd. & Zhengzhou College of Finance and Economics 
  from August 2024 to June 2025. Currently, she is pursuing the Ph.D. degree in Information and Communication Engineering 
  at <a href="https://www.xidian.edu.cn/">Xidian University</a>, Xi’an, China, under the supervision of <b><a href="https://web.xidian.edu.cn/nancheng/"style="color: red;">Prof. Nan Cheng</a></b>, 
  and is a member of the <a href="https://unicxidian.org/">Ubiquitous Networking and Intelligent Computing Lab (UNIC)</a>.</p>

  <br><p><b>Her main research interests include:</b><br>
  1. Generative AI (focus on signal processing and practical applications);<br>
  2. Decision-making AI (Lyapunov-based Deep Reinforcement Learning for Resource Allocation of Adaptive Communication Scenarios( • - • )  
 |つ 🚗,🛰️,✈️,📶......);<br>
  3. Development of AI-driven plugin systems for intelligent communication systems (multi-agent resource scheduling, network resource management, and self-optimization).</p>

  <br><p><b>My skills</b><br>
  Programming Language: C, Java, Matlab, Python, PHP, MySQL, GO, GUN/Linux, H5, C3, JS, JQuery.<br>
  Hobby: The development of Web and APP & Cluster construction.
  </p>
  </div>
</div>



<!-- Experience -->
<div class="content-section" id="Experience">
  <div class="content-card">
  <p class="section-title">Experience</p>
  <ul style="line-height:1.8;">
    <li><b>Ph.D. student</b>, 2025 to Present<br>
        Information and Communication Engineering, School of Communication Engineering, 
        <a href="https://www.xidian.edu.cn/">Xidian University</a>, Xi'an, China.</li>
    <li><b> August 2024 to June 2025.</b><br>
        <a href="https://www.xfusion.com/cn/"> xFusion Digital Co., Ltd.  </a>& Zhengzhou College of Finance and Economics, Zhengzhou, China.</li>
    <li><b>M.E. Degree</b>: 2021 to July 2024.<br>
         Computer Science and Technology, School of Computer and Information Engineering, 
        <a href="https://www.htu.edu.cn/">Henan Normal University</a>, Xinxiang, China (Supervisor: Prof. Peiyan Yuan).</li><br>
    <li><b>B.E. Degree</b>: 2017 to 2021.<br>
         Computer Science and Technology, School of Computer Science and Technology, 
        <a href="https://www.xxmu.edu.cn/">Xinxiang University</a>, Xinxiang, China.</li>
  </ul>
  </div>
</div>

<!-- Honors -->
<div class="content-section" id="Honors">
  <div class="content-card">
  <p class="section-title">Honors</p>
  <ul style="line-height:1.8;">
    <li>“<b>IEERA Cup</b>” International College English Reading Competition (China Division), Second Prize, June 2023.  
        <i>IEERA (International English Education Research Association)</i></li><br>
    <li><b>18th China Graduate Electronic Design Contest (GigaDevice Cup)</b>, Third Prize, July 2023.  
    Project name: “A Lightweight and Personalized Image Recognition System Based on Edge Intelligence and Its Application"-Federated Learning
  </ul>
  </div>
</div>


<!-- 包裹返回顶部按钮的容器 -->
<div class="go-top-container">
  <a href="#" class="go-top">Top</a>
</div>


<div class="copyright-black-box">
  <div id="copyright-text"></div>
  <div>
    <a href="https://github.com/limingabc123">Github</a> ·
    <a href="https://github.com/limingabc123/limingabc123.github.io/blob/main/LICENSE">License</a>
  </div>
</div>

<!-- 聊天窗口 HTML（新增） -->
<div id="chat-widget">
  <div class="chat-header">
   Li Ming's personal assistant
    <button id="close-chat">×</button>
  </div>
  <div id="chat-history"></div>
  <div id="chat-input-area">
    <input type="text" id="user-input" placeholder="input your message here...">
    <button id="send-btn">Send</button>
  </div>
</div>

<!-- 小助手容器 - 放在页眉模块的右下角 -->
<div class="assistant-container">
  <!-- <div class="assistant-label">Assistant</div> -->
  <button id="open-chat" class="floating">
    <img src="static/assets/img/zhuli.png" alt="小助手">
  </button>
</div>

<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
<script>
particlesJS("particles-js", {
  "particles": {
    "number": {"value":80,"density":{"enable":true,"value_area":800}},
    "color":{"value":"#0000FF"},
    "shape":{"type":"circle"},
    "opacity":{"value":0.4,"random":true},
    "size":{"value":3,"random":true},
    "line_linked":{"enable":true,"distance":150,"color":"#0000FF","opacity":0.2,"width":1},
    "move":{"enable":true,"speed":1}
  },
  "retina_detect": true
});

$(window).scroll(function() {
  $('.content-section').each(function() {
    const sectionTop = $(this).offset().top;
    const windowTop = $(window).scrollTop();
    const windowHeight = $(window).height();
    if (sectionTop < windowTop + windowHeight - 50) $(this).addClass('active');
  });
});

// 修复返回顶部按钮功能
$(document).on('click', '.go-top', function(e) {
  e.preventDefault();
  $('html, body').animate({scrollTop: 0}, 300);
});

document.getElementById('copyright-text').innerHTML =
  `&copy; ${new Date().getFullYear()} Ming Li. All rights reserved.`;

$(document).ready(()=> setTimeout(()=>$(window).trigger('scroll'),100));

// ========== 聊天功能逻辑（新增） ==========
let chatHistory = []; // 存储多轮对话历史
const apiUrl = "http://localhost:8000/chat"; // 本地中间代理的API地址

// 绑定DOM元素
const $chatWidget = $("#chat-widget");
const $openChatBtn = $("#open-chat");
const $closeChatBtn = $("#close-chat");
const $chatHistory = $("#chat-history");
const $userInput = $("#user-input");
const $sendBtn = $("#send-btn");

// 拖动功能变量
let isDragging = false;
let dragOffset = { x: 0, y: 0 };
let currentPosition = { x: 20, y: 80 }; // 默认位置

// 初始化拖动功能
function initDrag() {
  const $chatHeader = $chatWidget.find('.chat-header');
  
  // 鼠标按下事件
  $chatHeader.on('mousedown', function(e) {
    isDragging = true;
    
    // 计算鼠标相对于聊天窗口的偏移
    const widgetRect = $chatWidget[0].getBoundingClientRect();
    dragOffset.x = e.clientX - widgetRect.left;
    dragOffset.y = e.clientY - widgetRect.top;
    
    // 添加拖动样式
    $chatWidget.addClass('dragging');
    e.preventDefault();
  });
  
  // 鼠标移动事件
  $(document).on('mousemove', function(e) {
    if (!isDragging) return;
    
    // 计算新位置
    const newX = e.clientX - dragOffset.x;
    const newY = e.clientY - dragOffset.y;
    
    // 限制在可视区域内
    const maxX = window.innerWidth - $chatWidget.outerWidth();
    const maxY = window.innerHeight - $chatWidget.outerHeight();
    
    currentPosition.x = Math.max(0, Math.min(newX, maxX));
    currentPosition.y = Math.max(0, Math.min(newY, maxY));
    
    // 应用新位置
    $chatWidget.css({
      left: currentPosition.x + 'px',
      top: currentPosition.y + 'px',
      right: 'auto',
      bottom: 'auto'
    });
  });
  
  // 鼠标释放事件
  $(document).on('mouseup', function() {
    if (isDragging) {
      isDragging = false;
      $chatWidget.removeClass('dragging');
    }
  });
  
  // 防止输入框内的拖动干扰
  $userInput.on('mousedown', function(e) {
    e.stopPropagation();
  });
}

// 打开/关闭聊天窗口
$openChatBtn.click(() => {
  $chatWidget.fadeIn(300);
  $openChatBtn.fadeOut(300);
  // 打开窗口后自动聚焦输入框
  setTimeout(() => $userInput.focus(), 350);
});
$closeChatBtn.click(() => {
  $chatWidget.fadeOut(300);
  $openChatBtn.fadeIn(300);
});

// 发送消息核心函数
async function sendMessage() {
  const userMsg = $userInput.val().trim();
  if (!userMsg) {
    alert("Please enter the content of your question！");
    $userInput.focus();
    return;
  }

  // 清空输入框，添加用户消息到UI
  $userInput.val("");
  addMessageToUI("user", userMsg);

  // 显示加载状态
  const loadingId = addLoadingToUI();

  try {
    // 调用本地中间代理API
    const response = await fetch(apiUrl, {
      method: "POST",
      headers: { "Content-Type": "application/json" },
      body: JSON.stringify({ message: userMsg, history: chatHistory }),
      mode: "cors" // 明确指定CORS模式
    });

    if (!response.ok) {
      if (response.status === 404) {
        throw new Error("无法连接到AI服务，请确保本地Ollama和代理服务已启动");
      } else {
        throw new Error(`服务器错误: ${response.status}`);
      }
    }
    
    const data = await response.json();

    // 更新对话历史，添加助手回复到UI
    chatHistory = data.history;
    removeLoadingFromUI(loadingId);
    addMessageToUI("assistant", data.reply);
  } catch (err) {
    removeLoadingFromUI(loadingId);
    addMessageToUI("assistant", `提示：${err.message}`);
  }
  
  // 发送后重新聚焦输入框
  setTimeout(() => $userInput.focus(), 100);
}

// 辅助：添加消息到UI
function addMessageToUI(role, content) {
  const msgClass = role === "user" ? "user-message" : "assistant-message";
  const msgEl = $(`<div class="chat-message ${msgClass}">${content}</div>`);
  $chatHistory.append(msgEl);
  $chatHistory.scrollTop($chatHistory[0].scrollHeight); // 滚动到底部
}

// 辅助：显示加载状态
function addLoadingToUI() {
  const loadingId = `loading-${Date.now()}`;
  const loadingEl = $(`<div id="${loadingId}" class="loading-message">思考中...</div>`);
  $chatHistory.append(loadingEl);
  $chatHistory.scrollTop($chatHistory[0].scrollHeight);
  return loadingId;
}

// 辅助：移除加载状态
function removeLoadingFromUI(loadingId) {
  $(`#${loadingId}`).remove();
}

// 绑定发送事件（按钮点击 + 回车键）
$sendBtn.click(sendMessage);
$userInput.keydown((e) => {
  if (e.key === "Enter") sendMessage();
});

// 小助手随机飞行动画
function startFloatingAnimation() {
  const $assistant = $("#open-chat");
  const windowWidth = $(window).width();
  const windowHeight = $(window).height();
  const assistantWidth = $assistant.outerWidth();
  const assistantHeight = $assistant.outerHeight();
  
  // 随机生成新位置
  const randomX = Math.random() * (windowWidth - assistantWidth);
  const randomY = Math.random() * (windowHeight - assistantHeight);
  
  // 平滑移动到新位置
  $assistant.animate({
    left: randomX + 'px',
    top: randomY + 'px'
  }, 8000, 'easeInOutCubic', function() {
    // 动画完成后重新开始
    startFloatingAnimation();
  });
}

// 初始化聊天窗口
$(document).ready(() => {
  // 初始化拖动功能
  initDrag();
  
  // 添加欢迎消息
  setTimeout(() => {
    if ($chatHistory.children().length === 0) {
      addMessageToUI("assistant", "Hello! I'm Li Ming's personal assistant. Is there anything I can do to help you？");
    }
  }, 1000);
  
  // 启动飞行动画
  startFloatingAnimation();
});
</script>
</body>
</html>
